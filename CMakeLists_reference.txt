cmake_minimum_required(VERSION 3.11)
project(qwertyattack)

set(CMAKE_CXX_STANDARD 17)
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake-build-release/)

set(SOURCE_FILES 
	common.h
	BasicKeyNote.h
	BasicKeyNote.cpp
	JudgementTally.h
	JudgementTally.cpp
	KeyChart.h
	KeyChart.cpp
	KeyNote.h
	SongRun.h
	SongRun.cpp)

set(TEST_SOURCE_FILES
	tests/catch.hpp
	tests/test_KeyChart.cpp)
		


if(LINUX)
	add_executable(qwertyattack main.cpp ${SOURCE_FILES})
	add_executable(test_qwertyattack tests/test_main.cpp ${SOURCE_FILES} ${TEST_SOURCE_FILES})

	find_package(Threads)
	include_directories("/usr/include")
	link_directories("/usr/lib")
	target_link_libraries(qwertyattack ${CMAKE_THREAD_LIBS_INIT})
	target_link_libraries(qwertyattack "/usr/lib/SFML/libsfml-audio.so")
	target_link_libraries(qwertyattack "/usr/lib/SFML/libsfml-graphics.so")
	target_link_libraries(qwertyattack "/usr/lib/SFML/libsfml-system.so")
	target_link_libraries(qwertyattack "/usr/lib/SFML/libsfml-window.so")
	target_link_libraries(test_qwertyattack "/usr/lib/SFML/libsfml-audio.so")
	target_link_libraries(test_qwertyattack "/usr/lib/SFML/libsfml-graphics.so")
	target_link_libraries(test_qwertyattack "/usr/lib/SFML/libsfml-system.so")
	target_link_libraries(test_qwertyattack "/usr/lib/SFML/libsfml-window.so")
endif(LINUX)



if(WIN32)
	add_executable(qwertyattack main.cpp ${SOURCE_FILES})
	add_executable(test_qwertyattack tests/test_main.cpp ${SOURCE_FILES} ${TEST_SOURCE_FILES})

	include_directories("C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\include")
	link_directories("C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib")
	target_link_libraries(qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-audio.lib")
	target_link_libraries(qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-graphics.lib")
	target_link_libraries(qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-system.lib")
	target_link_libraries(qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-window.lib")
	target_link_libraries(test_qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-audio.lib")
	target_link_libraries(test_qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-graphics.lib")
	target_link_libraries(test_qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-system.lib")
	target_link_libraries(test_qwertyattack "C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\lib\\SFML\\sfml-window.lib")
endif(WIN32)